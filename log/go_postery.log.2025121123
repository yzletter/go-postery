time="2025-12-11 23:00:00.019" level=INFO source=/Users/yzletter/go_project/go-postery/infra/mysql/mysql.go:101 msg="Ping MySQL 成功 ..."
time="2025-12-11 23:00:00.022" level=INFO source=/Users/yzletter/go_project/go-postery/infra/redis/redis.go:60 msg="ping globalRedisClient succeed"
time="2025-12-11 23:02:24.314" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9999
time="2025-12-11 23:02:24.314" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:02:24.315" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:02:24.315" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=15
time="2025-12-11 23:02:24.315" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9
time="2025-12-11 23:02:24.315" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=11
time="2025-12-11 23:02:24.315" level=INFO source=/Users/yzletter/go_project/go-postery/handler/post.go:40 msg="" postDTOs="[{Id:1999011797763358720 ViewCount:0 Title:帖子4 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:07+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011774690492416 ViewCount:0 Title:帖子3 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:02+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011749923127296 ViewCount:0 Title:帖子2 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:01:56+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999010822646398976 ViewCount:0 Title:帖子1 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T14:58:15+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:266 ViewCount:0 Title:测试评论测试评论 Content:测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论 CreatedAt:2025-12-03T20:50:23+08:00 Author:{Id:0 Name: Avatar:}} {Id:250 ViewCount:0 Title:高并发系统的限流策略：漏桶算法、令牌桶与分布式限流 Content:\u3000\u3000限流是高并发系统保护自身的重要机制，用于防止短时间内的流量峰值压垮后端服务或数据库。没有限流机制的系统很容易在高峰期发生雪崩效应，导致整体宕机。常见限流算法包括漏桶算法、令牌桶算法、滑动窗口限流、分布式限流等。不同场景需要不同限流策略。\n\u3000\u3000漏桶算法（Leaky Bucket）适用于控制系统的稳定输出，将不规则流量变得平滑。当请求量超过漏桶容量时，会强制丢弃请求，从而保护系统。\n\u3000\u3000令牌桶算法（Token Bucket）更灵活，它允许流量在短时间内突发。例如允许每秒 1000 个请求，但桶中可以累计一定数量令牌用于支持突发流量。\n\u3000\u3000滑动窗口限流适用于统计一段时间内的请求数，例如过去 1 秒或过去 5 秒内的总请求量，用于做更平滑的限流策略。\n\u3000\u3000分布式限流需要依赖 Redis、Etcd 或 Service Mesh 来进行全局限流。例如使用 Redis 的 INCR + EXPIRE 实现固定窗口限流，或使用 Lua 脚本实现原子操作。\n\u3000\u3000最终，限流是系统稳定性的基石，也是处理突发流量的关键技术。 CreatedAt:2025-11-26T23:59:12+08:00 Author:{Id:0 Name: Avatar:}} {Id:230 ViewCount:0 Title:深度解析系统性能优化：CPU、内存、IO 与网络的全链路调优策略 Content:\u3000\u3000系统性能优化是一项贯穿整个工程生命周期的核心能力。无论是服务器端、数据库、缓存系统还是网络层，性能瓶颈可能出现在任意环节。因此性能优化必须从 CPU、内存、IO、网络四大维度进行系统化分析。\n\u3000\u3000CPU 优化包括减少上下文切换、避免锁竞争、提高缓存命中率、减少无效计算、并行化处理。例如在多线程场景下应使用无锁结构或分段锁；在数据密集型任务中使用 SIMD 指令可以显著提升性能。\n\u3000\u3000内存优化则包括减少 GC 压力、避免内存碎片、优化对象生命周期。对于 Go 语言、Java 等 GC 语言，需要减少逃逸分配、使用池化、尽量避免大量短生存对象。\n\tIO 优化需要识别是否是磁盘瓶颈。例如使用异步 IO、零拷贝、页缓存、顺序写入等方式提升吞吐。对于数据库系统，使用合适的索引、减少回表、启用查询缓存都能提升性能。\n\u3000\u3000网络优化包括减少 RTT、提升带宽利用率、启用连接复用、使用更高效编码格式。例如 gRPC 使用二进制协议 + HTTP/2 就比传统 JSON 更高效。\n\u3000\u3000性能优化必须依赖可观测性。通过 pprof、火焰图、链路追踪、系统监控等机制定位瓶颈，才能做有效优化。\n\u3000\u3000最终，性能优化不是“改一条配置”，而是全链路工程能力的体现。 CreatedAt:2025-11-26T21:18:13+08:00 Author:{Id:0 Name: Avatar:}} {Id:255 ViewCount:0 Title:分布式 ID 系统设计：雪花算法、Segment 与全局一致性挑战 Content:\u3000\u3000分布式 ID 是大型系统中的基础组件，用于为全局业务对象生成唯一标识符。在订单、用户、商品、日志、事件等系统中，每秒可能需要生成数十万到数百万 ID，因此分布式 ID 系统必须具备高性能、高可用、低延迟与强一致性。常见 ID 生成方案包括雪花算法（Snowflake）、数据库自增、Segment 块分配、号段缓存、高性能 KV 存储生成等。\n\u3000\u3000雪花算法是一种常见的本地生成算法，通过将时间戳、机器 ID、序列号组合生成 64 位整数，具备高性能、无中心化等优势。但雪花算法需要处理时钟回拨问题，一旦服务器时间出现跳跃，可能导致重复 ID 或顺序错乱。因此在强一致性场景下需要引入时钟监控、单机 fencing 机制等。\n\u3000\u3000Segment（号段）模式通过数据库或服务端下发一段连续 ID 给应用，应用在本地使用这段 ID 生成器，直到耗尽。Segment 模式可以实现百万级 QPS，但数据库成为瓶颈，因此需要使用多主模式、读写分离、预分配缓存等方式提升性能。\n\u3000\u3000高一致性场景下需要使用中心化 ID 服务。例如基于 Etcd 的 CAS 操作生成全局递增 ID；基于 Redis 的 INCR 原子操作生成分布式 ID。对于更高要求的系统，可以使用自研分布式 ID 生成器，如 Meituan 的 Leaf、Twitter 的 Snowflake 变种等。\n\u3000\u3000最终，分布式 ID 系统不是简单生成数字，而是一个关乎性能、可靠性、一致性的核心基础设施组件。 CreatedAt:2025-11-26T20:44:30+08:00 Author:{Id:0 Name: Avatar:}} {Id:265 ViewCount:0 Title:云原生存储 CSI 深度解析：卷插件、快照与多租户隔离 Content:\u3000\u3000Kubernetes 中的存储由 CSI（Container Storage Interface）统一管理，CSI 插件提供挂载卷、动态创建 PV、快照恢复、克隆卷、扩容等核心能力。在云原生架构中，存储不再是“固定盘”或“手动挂载”，而是完全由集群调度动态管理的资源。CSI 的出现使得存储具备高度扩展性、跨供应商兼容性与自动化能力。\n\u3000\u3000CSI 的核心组件包括控制器服务与节点服务。控制器服务负责创建卷、删除卷、快照、克隆、扩容等；节点服务负责挂载卷、卸载卷、格式化卷等操作。所有操作都通过 gRPC 调用进行，确保插件能够跨平台运行。\n\u3000\u3000快照与克隆是云原生存储最强大的能力之一。快照可以在几毫秒内创建卷的逻辑副本，适用于备份、快速恢复、测试环境克隆等场景。克隆卷则可以用于创建相同数据的测试环境，实现快速布署。\n\u3000\u3000多租户隔离是企业级存储必须解决的问题。CSI 需要与 Kubernetes RBAC、StorageClass、Quota 配合，实现不同租户之间的配额隔离、访问隔离以及存储策略隔离。对于金融级需求，还需要结合加密、审计与专有存储节点进一步增强安全性。\n\u3000\u3000最终，CSI 将存储能力抽象化，使得存储在云原生体系中像计算一样可以弹性调度，是现代集群架构不可或缺的一部分。 CreatedAt:2025-11-26T19:11:04+08:00 Author:{Id:0 Name: Avatar:}} {Id:220 ViewCount:0 Title:Go Runtime 深度解析：调度器、内存管理与垃圾回收机制 Content:\u3000\u3000Go Runtime 是 Go 语言性能与并发能力的核心，其内部的调度模型、内存管理策略、垃圾回收机制共同构成了 Go 高性能服务的基础。理解 Runtime 的工作原理，不仅能帮助开发者写出更高效的代码，还能在面对高并发、内存泄漏、GC 停顿等问题时快速定位原因。\n\u3000\u3000Go 的调度器基于 GMP 模型，其中 G 代表 goroutine，M 代表 OS 线程，P 代表逻辑处理器。P 决定可并行执行的 G 的数量，M 负责实际运行 G。Work Stealing 算法让不同 P 之间可以互相窃取任务，从而实现更高的调度效率。\n \u3000 内存管理采用 tcmalloc 风格的小对象分配器，通过 span、page、cache 多级结构降低锁竞争。在多线程环境下，Go 会为不同 P 分配本地缓存，避免频繁加锁。\n\u3000\u3000垃圾回收机制从 Go1.5 后逐步优化到低延迟 GC，通过三色标记法、写屏障、并发标记等方式减少 stop-the-world 时间。但开发者仍需要减少逃逸、避免频繁申请小对象、使用 sync.Pool 等降低 GC 压力。\n \u3000 最终，深入理解 Go Runtime 能显著提升程序性能与稳定性，使开发者能够从底层视角优化系统。 CreatedAt:2025-11-26T18:24:15+08:00 Author:{Id:0 Name: Avatar:}}]"
time="2025-12-11 23:02:24.404" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9999
time="2025-12-11 23:02:24.404" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:02:24.404" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:02:24.404" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=15
time="2025-12-11 23:02:24.405" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9
time="2025-12-11 23:02:24.405" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=11
time="2025-12-11 23:02:24.405" level=INFO source=/Users/yzletter/go_project/go-postery/handler/post.go:40 msg="" postDTOs="[{Id:1999011797763358720 ViewCount:0 Title:帖子4 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:07+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011774690492416 ViewCount:0 Title:帖子3 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:02+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011749923127296 ViewCount:0 Title:帖子2 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:01:56+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999010822646398976 ViewCount:0 Title:帖子1 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T14:58:15+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:266 ViewCount:0 Title:测试评论测试评论 Content:测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论 CreatedAt:2025-12-03T20:50:23+08:00 Author:{Id:0 Name: Avatar:}} {Id:250 ViewCount:0 Title:高并发系统的限流策略：漏桶算法、令牌桶与分布式限流 Content:\u3000\u3000限流是高并发系统保护自身的重要机制，用于防止短时间内的流量峰值压垮后端服务或数据库。没有限流机制的系统很容易在高峰期发生雪崩效应，导致整体宕机。常见限流算法包括漏桶算法、令牌桶算法、滑动窗口限流、分布式限流等。不同场景需要不同限流策略。\n\u3000\u3000漏桶算法（Leaky Bucket）适用于控制系统的稳定输出，将不规则流量变得平滑。当请求量超过漏桶容量时，会强制丢弃请求，从而保护系统。\n\u3000\u3000令牌桶算法（Token Bucket）更灵活，它允许流量在短时间内突发。例如允许每秒 1000 个请求，但桶中可以累计一定数量令牌用于支持突发流量。\n\u3000\u3000滑动窗口限流适用于统计一段时间内的请求数，例如过去 1 秒或过去 5 秒内的总请求量，用于做更平滑的限流策略。\n\u3000\u3000分布式限流需要依赖 Redis、Etcd 或 Service Mesh 来进行全局限流。例如使用 Redis 的 INCR + EXPIRE 实现固定窗口限流，或使用 Lua 脚本实现原子操作。\n\u3000\u3000最终，限流是系统稳定性的基石，也是处理突发流量的关键技术。 CreatedAt:2025-11-26T23:59:12+08:00 Author:{Id:0 Name: Avatar:}} {Id:230 ViewCount:0 Title:深度解析系统性能优化：CPU、内存、IO 与网络的全链路调优策略 Content:\u3000\u3000系统性能优化是一项贯穿整个工程生命周期的核心能力。无论是服务器端、数据库、缓存系统还是网络层，性能瓶颈可能出现在任意环节。因此性能优化必须从 CPU、内存、IO、网络四大维度进行系统化分析。\n\u3000\u3000CPU 优化包括减少上下文切换、避免锁竞争、提高缓存命中率、减少无效计算、并行化处理。例如在多线程场景下应使用无锁结构或分段锁；在数据密集型任务中使用 SIMD 指令可以显著提升性能。\n\u3000\u3000内存优化则包括减少 GC 压力、避免内存碎片、优化对象生命周期。对于 Go 语言、Java 等 GC 语言，需要减少逃逸分配、使用池化、尽量避免大量短生存对象。\n\tIO 优化需要识别是否是磁盘瓶颈。例如使用异步 IO、零拷贝、页缓存、顺序写入等方式提升吞吐。对于数据库系统，使用合适的索引、减少回表、启用查询缓存都能提升性能。\n\u3000\u3000网络优化包括减少 RTT、提升带宽利用率、启用连接复用、使用更高效编码格式。例如 gRPC 使用二进制协议 + HTTP/2 就比传统 JSON 更高效。\n\u3000\u3000性能优化必须依赖可观测性。通过 pprof、火焰图、链路追踪、系统监控等机制定位瓶颈，才能做有效优化。\n\u3000\u3000最终，性能优化不是“改一条配置”，而是全链路工程能力的体现。 CreatedAt:2025-11-26T21:18:13+08:00 Author:{Id:0 Name: Avatar:}} {Id:255 ViewCount:0 Title:分布式 ID 系统设计：雪花算法、Segment 与全局一致性挑战 Content:\u3000\u3000分布式 ID 是大型系统中的基础组件，用于为全局业务对象生成唯一标识符。在订单、用户、商品、日志、事件等系统中，每秒可能需要生成数十万到数百万 ID，因此分布式 ID 系统必须具备高性能、高可用、低延迟与强一致性。常见 ID 生成方案包括雪花算法（Snowflake）、数据库自增、Segment 块分配、号段缓存、高性能 KV 存储生成等。\n\u3000\u3000雪花算法是一种常见的本地生成算法，通过将时间戳、机器 ID、序列号组合生成 64 位整数，具备高性能、无中心化等优势。但雪花算法需要处理时钟回拨问题，一旦服务器时间出现跳跃，可能导致重复 ID 或顺序错乱。因此在强一致性场景下需要引入时钟监控、单机 fencing 机制等。\n\u3000\u3000Segment（号段）模式通过数据库或服务端下发一段连续 ID 给应用，应用在本地使用这段 ID 生成器，直到耗尽。Segment 模式可以实现百万级 QPS，但数据库成为瓶颈，因此需要使用多主模式、读写分离、预分配缓存等方式提升性能。\n\u3000\u3000高一致性场景下需要使用中心化 ID 服务。例如基于 Etcd 的 CAS 操作生成全局递增 ID；基于 Redis 的 INCR 原子操作生成分布式 ID。对于更高要求的系统，可以使用自研分布式 ID 生成器，如 Meituan 的 Leaf、Twitter 的 Snowflake 变种等。\n\u3000\u3000最终，分布式 ID 系统不是简单生成数字，而是一个关乎性能、可靠性、一致性的核心基础设施组件。 CreatedAt:2025-11-26T20:44:30+08:00 Author:{Id:0 Name: Avatar:}} {Id:265 ViewCount:0 Title:云原生存储 CSI 深度解析：卷插件、快照与多租户隔离 Content:\u3000\u3000Kubernetes 中的存储由 CSI（Container Storage Interface）统一管理，CSI 插件提供挂载卷、动态创建 PV、快照恢复、克隆卷、扩容等核心能力。在云原生架构中，存储不再是“固定盘”或“手动挂载”，而是完全由集群调度动态管理的资源。CSI 的出现使得存储具备高度扩展性、跨供应商兼容性与自动化能力。\n\u3000\u3000CSI 的核心组件包括控制器服务与节点服务。控制器服务负责创建卷、删除卷、快照、克隆、扩容等；节点服务负责挂载卷、卸载卷、格式化卷等操作。所有操作都通过 gRPC 调用进行，确保插件能够跨平台运行。\n\u3000\u3000快照与克隆是云原生存储最强大的能力之一。快照可以在几毫秒内创建卷的逻辑副本，适用于备份、快速恢复、测试环境克隆等场景。克隆卷则可以用于创建相同数据的测试环境，实现快速布署。\n\u3000\u3000多租户隔离是企业级存储必须解决的问题。CSI 需要与 Kubernetes RBAC、StorageClass、Quota 配合，实现不同租户之间的配额隔离、访问隔离以及存储策略隔离。对于金融级需求，还需要结合加密、审计与专有存储节点进一步增强安全性。\n\u3000\u3000最终，CSI 将存储能力抽象化，使得存储在云原生体系中像计算一样可以弹性调度，是现代集群架构不可或缺的一部分。 CreatedAt:2025-11-26T19:11:04+08:00 Author:{Id:0 Name: Avatar:}} {Id:220 ViewCount:0 Title:Go Runtime 深度解析：调度器、内存管理与垃圾回收机制 Content:\u3000\u3000Go Runtime 是 Go 语言性能与并发能力的核心，其内部的调度模型、内存管理策略、垃圾回收机制共同构成了 Go 高性能服务的基础。理解 Runtime 的工作原理，不仅能帮助开发者写出更高效的代码，还能在面对高并发、内存泄漏、GC 停顿等问题时快速定位原因。\n\u3000\u3000Go 的调度器基于 GMP 模型，其中 G 代表 goroutine，M 代表 OS 线程，P 代表逻辑处理器。P 决定可并行执行的 G 的数量，M 负责实际运行 G。Work Stealing 算法让不同 P 之间可以互相窃取任务，从而实现更高的调度效率。\n \u3000 内存管理采用 tcmalloc 风格的小对象分配器，通过 span、page、cache 多级结构降低锁竞争。在多线程环境下，Go 会为不同 P 分配本地缓存，避免频繁加锁。\n\u3000\u3000垃圾回收机制从 Go1.5 后逐步优化到低延迟 GC，通过三色标记法、写屏障、并发标记等方式减少 stop-the-world 时间。但开发者仍需要减少逃逸、避免频繁申请小对象、使用 sync.Pool 等降低 GC 压力。\n \u3000 最终，深入理解 Go Runtime 能显著提升程序性能与稳定性，使开发者能够从底层视角优化系统。 CreatedAt:2025-11-26T18:24:15+08:00 Author:{Id:0 Name: Avatar:}}]"
time="2025-12-11 23:23:47.097" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9999
time="2025-12-11 23:23:47.099" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:23:47.099" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:23:47.099" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=15
time="2025-12-11 23:23:47.100" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9
time="2025-12-11 23:23:47.104" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=11
time="2025-12-11 23:23:47.104" level=INFO source=/Users/yzletter/go_project/go-postery/handler/post.go:40 msg="" postDTOs="[{Id:1999011797763358720 ViewCount:0 Title:帖子4 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:07+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011774690492416 ViewCount:0 Title:帖子3 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:02+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011749923127296 ViewCount:0 Title:帖子2 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:01:56+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999010822646398976 ViewCount:0 Title:帖子1 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T14:58:15+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:266 ViewCount:0 Title:测试评论测试评论 Content:测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论 CreatedAt:2025-12-03T20:50:23+08:00 Author:{Id:0 Name: Avatar:}} {Id:250 ViewCount:0 Title:高并发系统的限流策略：漏桶算法、令牌桶与分布式限流 Content:\u3000\u3000限流是高并发系统保护自身的重要机制，用于防止短时间内的流量峰值压垮后端服务或数据库。没有限流机制的系统很容易在高峰期发生雪崩效应，导致整体宕机。常见限流算法包括漏桶算法、令牌桶算法、滑动窗口限流、分布式限流等。不同场景需要不同限流策略。\n\u3000\u3000漏桶算法（Leaky Bucket）适用于控制系统的稳定输出，将不规则流量变得平滑。当请求量超过漏桶容量时，会强制丢弃请求，从而保护系统。\n\u3000\u3000令牌桶算法（Token Bucket）更灵活，它允许流量在短时间内突发。例如允许每秒 1000 个请求，但桶中可以累计一定数量令牌用于支持突发流量。\n\u3000\u3000滑动窗口限流适用于统计一段时间内的请求数，例如过去 1 秒或过去 5 秒内的总请求量，用于做更平滑的限流策略。\n\u3000\u3000分布式限流需要依赖 Redis、Etcd 或 Service Mesh 来进行全局限流。例如使用 Redis 的 INCR + EXPIRE 实现固定窗口限流，或使用 Lua 脚本实现原子操作。\n\u3000\u3000最终，限流是系统稳定性的基石，也是处理突发流量的关键技术。 CreatedAt:2025-11-26T23:59:12+08:00 Author:{Id:0 Name: Avatar:}} {Id:230 ViewCount:0 Title:深度解析系统性能优化：CPU、内存、IO 与网络的全链路调优策略 Content:\u3000\u3000系统性能优化是一项贯穿整个工程生命周期的核心能力。无论是服务器端、数据库、缓存系统还是网络层，性能瓶颈可能出现在任意环节。因此性能优化必须从 CPU、内存、IO、网络四大维度进行系统化分析。\n\u3000\u3000CPU 优化包括减少上下文切换、避免锁竞争、提高缓存命中率、减少无效计算、并行化处理。例如在多线程场景下应使用无锁结构或分段锁；在数据密集型任务中使用 SIMD 指令可以显著提升性能。\n\u3000\u3000内存优化则包括减少 GC 压力、避免内存碎片、优化对象生命周期。对于 Go 语言、Java 等 GC 语言，需要减少逃逸分配、使用池化、尽量避免大量短生存对象。\n\tIO 优化需要识别是否是磁盘瓶颈。例如使用异步 IO、零拷贝、页缓存、顺序写入等方式提升吞吐。对于数据库系统，使用合适的索引、减少回表、启用查询缓存都能提升性能。\n\u3000\u3000网络优化包括减少 RTT、提升带宽利用率、启用连接复用、使用更高效编码格式。例如 gRPC 使用二进制协议 + HTTP/2 就比传统 JSON 更高效。\n\u3000\u3000性能优化必须依赖可观测性。通过 pprof、火焰图、链路追踪、系统监控等机制定位瓶颈，才能做有效优化。\n\u3000\u3000最终，性能优化不是“改一条配置”，而是全链路工程能力的体现。 CreatedAt:2025-11-26T21:18:13+08:00 Author:{Id:0 Name: Avatar:}} {Id:255 ViewCount:0 Title:分布式 ID 系统设计：雪花算法、Segment 与全局一致性挑战 Content:\u3000\u3000分布式 ID 是大型系统中的基础组件，用于为全局业务对象生成唯一标识符。在订单、用户、商品、日志、事件等系统中，每秒可能需要生成数十万到数百万 ID，因此分布式 ID 系统必须具备高性能、高可用、低延迟与强一致性。常见 ID 生成方案包括雪花算法（Snowflake）、数据库自增、Segment 块分配、号段缓存、高性能 KV 存储生成等。\n\u3000\u3000雪花算法是一种常见的本地生成算法，通过将时间戳、机器 ID、序列号组合生成 64 位整数，具备高性能、无中心化等优势。但雪花算法需要处理时钟回拨问题，一旦服务器时间出现跳跃，可能导致重复 ID 或顺序错乱。因此在强一致性场景下需要引入时钟监控、单机 fencing 机制等。\n\u3000\u3000Segment（号段）模式通过数据库或服务端下发一段连续 ID 给应用，应用在本地使用这段 ID 生成器，直到耗尽。Segment 模式可以实现百万级 QPS，但数据库成为瓶颈，因此需要使用多主模式、读写分离、预分配缓存等方式提升性能。\n\u3000\u3000高一致性场景下需要使用中心化 ID 服务。例如基于 Etcd 的 CAS 操作生成全局递增 ID；基于 Redis 的 INCR 原子操作生成分布式 ID。对于更高要求的系统，可以使用自研分布式 ID 生成器，如 Meituan 的 Leaf、Twitter 的 Snowflake 变种等。\n\u3000\u3000最终，分布式 ID 系统不是简单生成数字，而是一个关乎性能、可靠性、一致性的核心基础设施组件。 CreatedAt:2025-11-26T20:44:30+08:00 Author:{Id:0 Name: Avatar:}} {Id:265 ViewCount:0 Title:云原生存储 CSI 深度解析：卷插件、快照与多租户隔离 Content:\u3000\u3000Kubernetes 中的存储由 CSI（Container Storage Interface）统一管理，CSI 插件提供挂载卷、动态创建 PV、快照恢复、克隆卷、扩容等核心能力。在云原生架构中，存储不再是“固定盘”或“手动挂载”，而是完全由集群调度动态管理的资源。CSI 的出现使得存储具备高度扩展性、跨供应商兼容性与自动化能力。\n\u3000\u3000CSI 的核心组件包括控制器服务与节点服务。控制器服务负责创建卷、删除卷、快照、克隆、扩容等；节点服务负责挂载卷、卸载卷、格式化卷等操作。所有操作都通过 gRPC 调用进行，确保插件能够跨平台运行。\n\u3000\u3000快照与克隆是云原生存储最强大的能力之一。快照可以在几毫秒内创建卷的逻辑副本，适用于备份、快速恢复、测试环境克隆等场景。克隆卷则可以用于创建相同数据的测试环境，实现快速布署。\n\u3000\u3000多租户隔离是企业级存储必须解决的问题。CSI 需要与 Kubernetes RBAC、StorageClass、Quota 配合，实现不同租户之间的配额隔离、访问隔离以及存储策略隔离。对于金融级需求，还需要结合加密、审计与专有存储节点进一步增强安全性。\n\u3000\u3000最终，CSI 将存储能力抽象化，使得存储在云原生体系中像计算一样可以弹性调度，是现代集群架构不可或缺的一部分。 CreatedAt:2025-11-26T19:11:04+08:00 Author:{Id:0 Name: Avatar:}} {Id:220 ViewCount:0 Title:Go Runtime 深度解析：调度器、内存管理与垃圾回收机制 Content:\u3000\u3000Go Runtime 是 Go 语言性能与并发能力的核心，其内部的调度模型、内存管理策略、垃圾回收机制共同构成了 Go 高性能服务的基础。理解 Runtime 的工作原理，不仅能帮助开发者写出更高效的代码，还能在面对高并发、内存泄漏、GC 停顿等问题时快速定位原因。\n\u3000\u3000Go 的调度器基于 GMP 模型，其中 G 代表 goroutine，M 代表 OS 线程，P 代表逻辑处理器。P 决定可并行执行的 G 的数量，M 负责实际运行 G。Work Stealing 算法让不同 P 之间可以互相窃取任务，从而实现更高的调度效率。\n \u3000 内存管理采用 tcmalloc 风格的小对象分配器，通过 span、page、cache 多级结构降低锁竞争。在多线程环境下，Go 会为不同 P 分配本地缓存，避免频繁加锁。\n\u3000\u3000垃圾回收机制从 Go1.5 后逐步优化到低延迟 GC，通过三色标记法、写屏障、并发标记等方式减少 stop-the-world 时间。但开发者仍需要减少逃逸、避免频繁申请小对象、使用 sync.Pool 等降低 GC 压力。\n \u3000 最终，深入理解 Go Runtime 能显著提升程序性能与稳定性，使开发者能够从底层视角优化系统。 CreatedAt:2025-11-26T18:24:15+08:00 Author:{Id:0 Name: Avatar:}}]"
time="2025-12-11 23:23:47.210" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9999
time="2025-12-11 23:23:47.211" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:23:47.211" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:23:47.211" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=15
time="2025-12-11 23:23:47.211" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9
time="2025-12-11 23:23:47.211" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=11
time="2025-12-11 23:23:47.211" level=INFO source=/Users/yzletter/go_project/go-postery/handler/post.go:40 msg="" postDTOs="[{Id:1999011797763358720 ViewCount:0 Title:帖子4 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:07+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011774690492416 ViewCount:0 Title:帖子3 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:02+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011749923127296 ViewCount:0 Title:帖子2 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:01:56+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999010822646398976 ViewCount:0 Title:帖子1 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T14:58:15+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:266 ViewCount:0 Title:测试评论测试评论 Content:测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论 CreatedAt:2025-12-03T20:50:23+08:00 Author:{Id:0 Name: Avatar:}} {Id:250 ViewCount:0 Title:高并发系统的限流策略：漏桶算法、令牌桶与分布式限流 Content:\u3000\u3000限流是高并发系统保护自身的重要机制，用于防止短时间内的流量峰值压垮后端服务或数据库。没有限流机制的系统很容易在高峰期发生雪崩效应，导致整体宕机。常见限流算法包括漏桶算法、令牌桶算法、滑动窗口限流、分布式限流等。不同场景需要不同限流策略。\n\u3000\u3000漏桶算法（Leaky Bucket）适用于控制系统的稳定输出，将不规则流量变得平滑。当请求量超过漏桶容量时，会强制丢弃请求，从而保护系统。\n\u3000\u3000令牌桶算法（Token Bucket）更灵活，它允许流量在短时间内突发。例如允许每秒 1000 个请求，但桶中可以累计一定数量令牌用于支持突发流量。\n\u3000\u3000滑动窗口限流适用于统计一段时间内的请求数，例如过去 1 秒或过去 5 秒内的总请求量，用于做更平滑的限流策略。\n\u3000\u3000分布式限流需要依赖 Redis、Etcd 或 Service Mesh 来进行全局限流。例如使用 Redis 的 INCR + EXPIRE 实现固定窗口限流，或使用 Lua 脚本实现原子操作。\n\u3000\u3000最终，限流是系统稳定性的基石，也是处理突发流量的关键技术。 CreatedAt:2025-11-26T23:59:12+08:00 Author:{Id:0 Name: Avatar:}} {Id:230 ViewCount:0 Title:深度解析系统性能优化：CPU、内存、IO 与网络的全链路调优策略 Content:\u3000\u3000系统性能优化是一项贯穿整个工程生命周期的核心能力。无论是服务器端、数据库、缓存系统还是网络层，性能瓶颈可能出现在任意环节。因此性能优化必须从 CPU、内存、IO、网络四大维度进行系统化分析。\n\u3000\u3000CPU 优化包括减少上下文切换、避免锁竞争、提高缓存命中率、减少无效计算、并行化处理。例如在多线程场景下应使用无锁结构或分段锁；在数据密集型任务中使用 SIMD 指令可以显著提升性能。\n\u3000\u3000内存优化则包括减少 GC 压力、避免内存碎片、优化对象生命周期。对于 Go 语言、Java 等 GC 语言，需要减少逃逸分配、使用池化、尽量避免大量短生存对象。\n\tIO 优化需要识别是否是磁盘瓶颈。例如使用异步 IO、零拷贝、页缓存、顺序写入等方式提升吞吐。对于数据库系统，使用合适的索引、减少回表、启用查询缓存都能提升性能。\n\u3000\u3000网络优化包括减少 RTT、提升带宽利用率、启用连接复用、使用更高效编码格式。例如 gRPC 使用二进制协议 + HTTP/2 就比传统 JSON 更高效。\n\u3000\u3000性能优化必须依赖可观测性。通过 pprof、火焰图、链路追踪、系统监控等机制定位瓶颈，才能做有效优化。\n\u3000\u3000最终，性能优化不是“改一条配置”，而是全链路工程能力的体现。 CreatedAt:2025-11-26T21:18:13+08:00 Author:{Id:0 Name: Avatar:}} {Id:255 ViewCount:0 Title:分布式 ID 系统设计：雪花算法、Segment 与全局一致性挑战 Content:\u3000\u3000分布式 ID 是大型系统中的基础组件，用于为全局业务对象生成唯一标识符。在订单、用户、商品、日志、事件等系统中，每秒可能需要生成数十万到数百万 ID，因此分布式 ID 系统必须具备高性能、高可用、低延迟与强一致性。常见 ID 生成方案包括雪花算法（Snowflake）、数据库自增、Segment 块分配、号段缓存、高性能 KV 存储生成等。\n\u3000\u3000雪花算法是一种常见的本地生成算法，通过将时间戳、机器 ID、序列号组合生成 64 位整数，具备高性能、无中心化等优势。但雪花算法需要处理时钟回拨问题，一旦服务器时间出现跳跃，可能导致重复 ID 或顺序错乱。因此在强一致性场景下需要引入时钟监控、单机 fencing 机制等。\n\u3000\u3000Segment（号段）模式通过数据库或服务端下发一段连续 ID 给应用，应用在本地使用这段 ID 生成器，直到耗尽。Segment 模式可以实现百万级 QPS，但数据库成为瓶颈，因此需要使用多主模式、读写分离、预分配缓存等方式提升性能。\n\u3000\u3000高一致性场景下需要使用中心化 ID 服务。例如基于 Etcd 的 CAS 操作生成全局递增 ID；基于 Redis 的 INCR 原子操作生成分布式 ID。对于更高要求的系统，可以使用自研分布式 ID 生成器，如 Meituan 的 Leaf、Twitter 的 Snowflake 变种等。\n\u3000\u3000最终，分布式 ID 系统不是简单生成数字，而是一个关乎性能、可靠性、一致性的核心基础设施组件。 CreatedAt:2025-11-26T20:44:30+08:00 Author:{Id:0 Name: Avatar:}} {Id:265 ViewCount:0 Title:云原生存储 CSI 深度解析：卷插件、快照与多租户隔离 Content:\u3000\u3000Kubernetes 中的存储由 CSI（Container Storage Interface）统一管理，CSI 插件提供挂载卷、动态创建 PV、快照恢复、克隆卷、扩容等核心能力。在云原生架构中，存储不再是“固定盘”或“手动挂载”，而是完全由集群调度动态管理的资源。CSI 的出现使得存储具备高度扩展性、跨供应商兼容性与自动化能力。\n\u3000\u3000CSI 的核心组件包括控制器服务与节点服务。控制器服务负责创建卷、删除卷、快照、克隆、扩容等；节点服务负责挂载卷、卸载卷、格式化卷等操作。所有操作都通过 gRPC 调用进行，确保插件能够跨平台运行。\n\u3000\u3000快照与克隆是云原生存储最强大的能力之一。快照可以在几毫秒内创建卷的逻辑副本，适用于备份、快速恢复、测试环境克隆等场景。克隆卷则可以用于创建相同数据的测试环境，实现快速布署。\n\u3000\u3000多租户隔离是企业级存储必须解决的问题。CSI 需要与 Kubernetes RBAC、StorageClass、Quota 配合，实现不同租户之间的配额隔离、访问隔离以及存储策略隔离。对于金融级需求，还需要结合加密、审计与专有存储节点进一步增强安全性。\n\u3000\u3000最终，CSI 将存储能力抽象化，使得存储在云原生体系中像计算一样可以弹性调度，是现代集群架构不可或缺的一部分。 CreatedAt:2025-11-26T19:11:04+08:00 Author:{Id:0 Name: Avatar:}} {Id:220 ViewCount:0 Title:Go Runtime 深度解析：调度器、内存管理与垃圾回收机制 Content:\u3000\u3000Go Runtime 是 Go 语言性能与并发能力的核心，其内部的调度模型、内存管理策略、垃圾回收机制共同构成了 Go 高性能服务的基础。理解 Runtime 的工作原理，不仅能帮助开发者写出更高效的代码，还能在面对高并发、内存泄漏、GC 停顿等问题时快速定位原因。\n\u3000\u3000Go 的调度器基于 GMP 模型，其中 G 代表 goroutine，M 代表 OS 线程，P 代表逻辑处理器。P 决定可并行执行的 G 的数量，M 负责实际运行 G。Work Stealing 算法让不同 P 之间可以互相窃取任务，从而实现更高的调度效率。\n \u3000 内存管理采用 tcmalloc 风格的小对象分配器，通过 span、page、cache 多级结构降低锁竞争。在多线程环境下，Go 会为不同 P 分配本地缓存，避免频繁加锁。\n\u3000\u3000垃圾回收机制从 Go1.5 后逐步优化到低延迟 GC，通过三色标记法、写屏障、并发标记等方式减少 stop-the-world 时间。但开发者仍需要减少逃逸、避免频繁申请小对象、使用 sync.Pool 等降低 GC 压力。\n \u3000 最终，深入理解 Go Runtime 能显著提升程序性能与稳定性，使开发者能够从底层视角优化系统。 CreatedAt:2025-11-26T18:24:15+08:00 Author:{Id:0 Name: Avatar:}}]"
time="2025-12-11 23:27:38.237" level=INFO source=/Users/yzletter/go_project/go-postery/infra/smooth/smooth.go:21 msg="signal interrupt has come, start exiting ..."
time="2025-12-11 23:27:38.238" level=INFO source=/Users/yzletter/go_project/go-postery/infra/mysql/mysql.go:115 msg="关闭 MySQL 成功 ..."
time="2025-12-11 23:27:38.238" level=INFO source=/Users/yzletter/go_project/go-postery/infra/redis/redis.go:72 msg="close globalRedisClient succeed"
time="2025-12-11 23:27:38.238" level=INFO source=/Users/yzletter/go_project/go-postery/infra/smooth/smooth.go:27 msg="all task has finished"
time="2025-12-11 23:27:44.288" level=INFO source=/Users/yzletter/go_project/go-postery/handler/post.go:39 msg="" postDTOs="[{Id:1999011797763358720 ViewCount:0 Title:帖子4 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:07+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011774690492416 ViewCount:0 Title:帖子3 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:02+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011749923127296 ViewCount:0 Title:帖子2 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:01:56+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}}]"
time="2025-12-11 23:28:04.621" level=ERROR source=/Users/yzletter/go_project/go-postery/service/post.go:91 msg="Redis Increase View Count Failed" error="ERR user_script:2: Script attempted to access nonexistent global variable 'ARGS' script: 337ee585c6e9d48533718725a51427456a779b14, on @user_script:2."
time="2025-12-11 23:28:06.796" level=ERROR source=/Users/yzletter/go_project/go-postery/service/post.go:91 msg="Redis Increase View Count Failed" error="ERR user_script:2: Script attempted to access nonexistent global variable 'ARGS' script: 337ee585c6e9d48533718725a51427456a779b14, on @user_script:2."
time="2025-12-11 23:30:00.008" level=INFO source=/Users/yzletter/go_project/go-postery/infra/mysql/mysql.go:101 msg="Ping MySQL 成功 ..."
time="2025-12-11 23:30:00.010" level=INFO source=/Users/yzletter/go_project/go-postery/infra/redis/redis.go:60 msg="ping globalRedisClient succeed"
time="2025-12-11 23:39:36.839" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9999
time="2025-12-11 23:39:36.839" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:39:36.839" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:39:36.839" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=15
time="2025-12-11 23:39:36.839" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9
time="2025-12-11 23:39:36.840" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=11
time="2025-12-11 23:39:36.840" level=INFO source=/Users/yzletter/go_project/go-postery/handler/post.go:39 msg="" postDTOs="[{Id:1999011797763358720 ViewCount:2 Title:帖子4 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:07+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011774690492416 ViewCount:0 Title:帖子3 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:02+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011749923127296 ViewCount:0 Title:帖子2 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:01:56+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999010822646398976 ViewCount:0 Title:帖子1 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T14:58:15+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:266 ViewCount:0 Title:测试评论测试评论 Content:测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论 CreatedAt:2025-12-03T20:50:23+08:00 Author:{Id:0 Name: Avatar:}} {Id:250 ViewCount:0 Title:高并发系统的限流策略：漏桶算法、令牌桶与分布式限流 Content:\u3000\u3000限流是高并发系统保护自身的重要机制，用于防止短时间内的流量峰值压垮后端服务或数据库。没有限流机制的系统很容易在高峰期发生雪崩效应，导致整体宕机。常见限流算法包括漏桶算法、令牌桶算法、滑动窗口限流、分布式限流等。不同场景需要不同限流策略。\n\u3000\u3000漏桶算法（Leaky Bucket）适用于控制系统的稳定输出，将不规则流量变得平滑。当请求量超过漏桶容量时，会强制丢弃请求，从而保护系统。\n\u3000\u3000令牌桶算法（Token Bucket）更灵活，它允许流量在短时间内突发。例如允许每秒 1000 个请求，但桶中可以累计一定数量令牌用于支持突发流量。\n\u3000\u3000滑动窗口限流适用于统计一段时间内的请求数，例如过去 1 秒或过去 5 秒内的总请求量，用于做更平滑的限流策略。\n\u3000\u3000分布式限流需要依赖 Redis、Etcd 或 Service Mesh 来进行全局限流。例如使用 Redis 的 INCR + EXPIRE 实现固定窗口限流，或使用 Lua 脚本实现原子操作。\n\u3000\u3000最终，限流是系统稳定性的基石，也是处理突发流量的关键技术。 CreatedAt:2025-11-26T23:59:12+08:00 Author:{Id:0 Name: Avatar:}} {Id:230 ViewCount:0 Title:深度解析系统性能优化：CPU、内存、IO 与网络的全链路调优策略 Content:\u3000\u3000系统性能优化是一项贯穿整个工程生命周期的核心能力。无论是服务器端、数据库、缓存系统还是网络层，性能瓶颈可能出现在任意环节。因此性能优化必须从 CPU、内存、IO、网络四大维度进行系统化分析。\n\u3000\u3000CPU 优化包括减少上下文切换、避免锁竞争、提高缓存命中率、减少无效计算、并行化处理。例如在多线程场景下应使用无锁结构或分段锁；在数据密集型任务中使用 SIMD 指令可以显著提升性能。\n\u3000\u3000内存优化则包括减少 GC 压力、避免内存碎片、优化对象生命周期。对于 Go 语言、Java 等 GC 语言，需要减少逃逸分配、使用池化、尽量避免大量短生存对象。\n\tIO 优化需要识别是否是磁盘瓶颈。例如使用异步 IO、零拷贝、页缓存、顺序写入等方式提升吞吐。对于数据库系统，使用合适的索引、减少回表、启用查询缓存都能提升性能。\n\u3000\u3000网络优化包括减少 RTT、提升带宽利用率、启用连接复用、使用更高效编码格式。例如 gRPC 使用二进制协议 + HTTP/2 就比传统 JSON 更高效。\n\u3000\u3000性能优化必须依赖可观测性。通过 pprof、火焰图、链路追踪、系统监控等机制定位瓶颈，才能做有效优化。\n\u3000\u3000最终，性能优化不是“改一条配置”，而是全链路工程能力的体现。 CreatedAt:2025-11-26T21:18:13+08:00 Author:{Id:0 Name: Avatar:}} {Id:255 ViewCount:0 Title:分布式 ID 系统设计：雪花算法、Segment 与全局一致性挑战 Content:\u3000\u3000分布式 ID 是大型系统中的基础组件，用于为全局业务对象生成唯一标识符。在订单、用户、商品、日志、事件等系统中，每秒可能需要生成数十万到数百万 ID，因此分布式 ID 系统必须具备高性能、高可用、低延迟与强一致性。常见 ID 生成方案包括雪花算法（Snowflake）、数据库自增、Segment 块分配、号段缓存、高性能 KV 存储生成等。\n\u3000\u3000雪花算法是一种常见的本地生成算法，通过将时间戳、机器 ID、序列号组合生成 64 位整数，具备高性能、无中心化等优势。但雪花算法需要处理时钟回拨问题，一旦服务器时间出现跳跃，可能导致重复 ID 或顺序错乱。因此在强一致性场景下需要引入时钟监控、单机 fencing 机制等。\n\u3000\u3000Segment（号段）模式通过数据库或服务端下发一段连续 ID 给应用，应用在本地使用这段 ID 生成器，直到耗尽。Segment 模式可以实现百万级 QPS，但数据库成为瓶颈，因此需要使用多主模式、读写分离、预分配缓存等方式提升性能。\n\u3000\u3000高一致性场景下需要使用中心化 ID 服务。例如基于 Etcd 的 CAS 操作生成全局递增 ID；基于 Redis 的 INCR 原子操作生成分布式 ID。对于更高要求的系统，可以使用自研分布式 ID 生成器，如 Meituan 的 Leaf、Twitter 的 Snowflake 变种等。\n\u3000\u3000最终，分布式 ID 系统不是简单生成数字，而是一个关乎性能、可靠性、一致性的核心基础设施组件。 CreatedAt:2025-11-26T20:44:30+08:00 Author:{Id:0 Name: Avatar:}} {Id:265 ViewCount:0 Title:云原生存储 CSI 深度解析：卷插件、快照与多租户隔离 Content:\u3000\u3000Kubernetes 中的存储由 CSI（Container Storage Interface）统一管理，CSI 插件提供挂载卷、动态创建 PV、快照恢复、克隆卷、扩容等核心能力。在云原生架构中，存储不再是“固定盘”或“手动挂载”，而是完全由集群调度动态管理的资源。CSI 的出现使得存储具备高度扩展性、跨供应商兼容性与自动化能力。\n\u3000\u3000CSI 的核心组件包括控制器服务与节点服务。控制器服务负责创建卷、删除卷、快照、克隆、扩容等；节点服务负责挂载卷、卸载卷、格式化卷等操作。所有操作都通过 gRPC 调用进行，确保插件能够跨平台运行。\n\u3000\u3000快照与克隆是云原生存储最强大的能力之一。快照可以在几毫秒内创建卷的逻辑副本，适用于备份、快速恢复、测试环境克隆等场景。克隆卷则可以用于创建相同数据的测试环境，实现快速布署。\n\u3000\u3000多租户隔离是企业级存储必须解决的问题。CSI 需要与 Kubernetes RBAC、StorageClass、Quota 配合，实现不同租户之间的配额隔离、访问隔离以及存储策略隔离。对于金融级需求，还需要结合加密、审计与专有存储节点进一步增强安全性。\n\u3000\u3000最终，CSI 将存储能力抽象化，使得存储在云原生体系中像计算一样可以弹性调度，是现代集群架构不可或缺的一部分。 CreatedAt:2025-11-26T19:11:04+08:00 Author:{Id:0 Name: Avatar:}} {Id:220 ViewCount:0 Title:Go Runtime 深度解析：调度器、内存管理与垃圾回收机制 Content:\u3000\u3000Go Runtime 是 Go 语言性能与并发能力的核心，其内部的调度模型、内存管理策略、垃圾回收机制共同构成了 Go 高性能服务的基础。理解 Runtime 的工作原理，不仅能帮助开发者写出更高效的代码，还能在面对高并发、内存泄漏、GC 停顿等问题时快速定位原因。\n\u3000\u3000Go 的调度器基于 GMP 模型，其中 G 代表 goroutine，M 代表 OS 线程，P 代表逻辑处理器。P 决定可并行执行的 G 的数量，M 负责实际运行 G。Work Stealing 算法让不同 P 之间可以互相窃取任务，从而实现更高的调度效率。\n \u3000 内存管理采用 tcmalloc 风格的小对象分配器，通过 span、page、cache 多级结构降低锁竞争。在多线程环境下，Go 会为不同 P 分配本地缓存，避免频繁加锁。\n\u3000\u3000垃圾回收机制从 Go1.5 后逐步优化到低延迟 GC，通过三色标记法、写屏障、并发标记等方式减少 stop-the-world 时间。但开发者仍需要减少逃逸、避免频繁申请小对象、使用 sync.Pool 等降低 GC 压力。\n \u3000 最终，深入理解 Go Runtime 能显著提升程序性能与稳定性，使开发者能够从底层视角优化系统。 CreatedAt:2025-11-26T18:24:15+08:00 Author:{Id:0 Name: Avatar:}}]"
time="2025-12-11 23:39:36.938" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9999
time="2025-12-11 23:39:36.938" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:39:36.938" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=1
time="2025-12-11 23:39:36.939" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=15
time="2025-12-11 23:39:36.939" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=9
time="2025-12-11 23:39:36.939" level=WARN source=/Users/yzletter/go_project/go-postery/service/post.go:66 msg="could not get name of user" uid=11
time="2025-12-11 23:39:36.939" level=INFO source=/Users/yzletter/go_project/go-postery/handler/post.go:39 msg="" postDTOs="[{Id:1999011797763358720 ViewCount:2 Title:帖子4 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:07+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011774690492416 ViewCount:0 Title:帖子3 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:02:02+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999011749923127296 ViewCount:0 Title:帖子2 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T15:01:56+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:1999010822646398976 ViewCount:0 Title:帖子1 Content:测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试 CreatedAt:2025-12-11T14:58:15+08:00 Author:{Id:1998783378609930240 Name:yzletter Avatar:}} {Id:266 ViewCount:0 Title:测试评论测试评论 Content:测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论测试评论 CreatedAt:2025-12-03T20:50:23+08:00 Author:{Id:0 Name: Avatar:}} {Id:250 ViewCount:0 Title:高并发系统的限流策略：漏桶算法、令牌桶与分布式限流 Content:\u3000\u3000限流是高并发系统保护自身的重要机制，用于防止短时间内的流量峰值压垮后端服务或数据库。没有限流机制的系统很容易在高峰期发生雪崩效应，导致整体宕机。常见限流算法包括漏桶算法、令牌桶算法、滑动窗口限流、分布式限流等。不同场景需要不同限流策略。\n\u3000\u3000漏桶算法（Leaky Bucket）适用于控制系统的稳定输出，将不规则流量变得平滑。当请求量超过漏桶容量时，会强制丢弃请求，从而保护系统。\n\u3000\u3000令牌桶算法（Token Bucket）更灵活，它允许流量在短时间内突发。例如允许每秒 1000 个请求，但桶中可以累计一定数量令牌用于支持突发流量。\n\u3000\u3000滑动窗口限流适用于统计一段时间内的请求数，例如过去 1 秒或过去 5 秒内的总请求量，用于做更平滑的限流策略。\n\u3000\u3000分布式限流需要依赖 Redis、Etcd 或 Service Mesh 来进行全局限流。例如使用 Redis 的 INCR + EXPIRE 实现固定窗口限流，或使用 Lua 脚本实现原子操作。\n\u3000\u3000最终，限流是系统稳定性的基石，也是处理突发流量的关键技术。 CreatedAt:2025-11-26T23:59:12+08:00 Author:{Id:0 Name: Avatar:}} {Id:230 ViewCount:0 Title:深度解析系统性能优化：CPU、内存、IO 与网络的全链路调优策略 Content:\u3000\u3000系统性能优化是一项贯穿整个工程生命周期的核心能力。无论是服务器端、数据库、缓存系统还是网络层，性能瓶颈可能出现在任意环节。因此性能优化必须从 CPU、内存、IO、网络四大维度进行系统化分析。\n\u3000\u3000CPU 优化包括减少上下文切换、避免锁竞争、提高缓存命中率、减少无效计算、并行化处理。例如在多线程场景下应使用无锁结构或分段锁；在数据密集型任务中使用 SIMD 指令可以显著提升性能。\n\u3000\u3000内存优化则包括减少 GC 压力、避免内存碎片、优化对象生命周期。对于 Go 语言、Java 等 GC 语言，需要减少逃逸分配、使用池化、尽量避免大量短生存对象。\n\tIO 优化需要识别是否是磁盘瓶颈。例如使用异步 IO、零拷贝、页缓存、顺序写入等方式提升吞吐。对于数据库系统，使用合适的索引、减少回表、启用查询缓存都能提升性能。\n\u3000\u3000网络优化包括减少 RTT、提升带宽利用率、启用连接复用、使用更高效编码格式。例如 gRPC 使用二进制协议 + HTTP/2 就比传统 JSON 更高效。\n\u3000\u3000性能优化必须依赖可观测性。通过 pprof、火焰图、链路追踪、系统监控等机制定位瓶颈，才能做有效优化。\n\u3000\u3000最终，性能优化不是“改一条配置”，而是全链路工程能力的体现。 CreatedAt:2025-11-26T21:18:13+08:00 Author:{Id:0 Name: Avatar:}} {Id:255 ViewCount:0 Title:分布式 ID 系统设计：雪花算法、Segment 与全局一致性挑战 Content:\u3000\u3000分布式 ID 是大型系统中的基础组件，用于为全局业务对象生成唯一标识符。在订单、用户、商品、日志、事件等系统中，每秒可能需要生成数十万到数百万 ID，因此分布式 ID 系统必须具备高性能、高可用、低延迟与强一致性。常见 ID 生成方案包括雪花算法（Snowflake）、数据库自增、Segment 块分配、号段缓存、高性能 KV 存储生成等。\n\u3000\u3000雪花算法是一种常见的本地生成算法，通过将时间戳、机器 ID、序列号组合生成 64 位整数，具备高性能、无中心化等优势。但雪花算法需要处理时钟回拨问题，一旦服务器时间出现跳跃，可能导致重复 ID 或顺序错乱。因此在强一致性场景下需要引入时钟监控、单机 fencing 机制等。\n\u3000\u3000Segment（号段）模式通过数据库或服务端下发一段连续 ID 给应用，应用在本地使用这段 ID 生成器，直到耗尽。Segment 模式可以实现百万级 QPS，但数据库成为瓶颈，因此需要使用多主模式、读写分离、预分配缓存等方式提升性能。\n\u3000\u3000高一致性场景下需要使用中心化 ID 服务。例如基于 Etcd 的 CAS 操作生成全局递增 ID；基于 Redis 的 INCR 原子操作生成分布式 ID。对于更高要求的系统，可以使用自研分布式 ID 生成器，如 Meituan 的 Leaf、Twitter 的 Snowflake 变种等。\n\u3000\u3000最终，分布式 ID 系统不是简单生成数字，而是一个关乎性能、可靠性、一致性的核心基础设施组件。 CreatedAt:2025-11-26T20:44:30+08:00 Author:{Id:0 Name: Avatar:}} {Id:265 ViewCount:0 Title:云原生存储 CSI 深度解析：卷插件、快照与多租户隔离 Content:\u3000\u3000Kubernetes 中的存储由 CSI（Container Storage Interface）统一管理，CSI 插件提供挂载卷、动态创建 PV、快照恢复、克隆卷、扩容等核心能力。在云原生架构中，存储不再是“固定盘”或“手动挂载”，而是完全由集群调度动态管理的资源。CSI 的出现使得存储具备高度扩展性、跨供应商兼容性与自动化能力。\n\u3000\u3000CSI 的核心组件包括控制器服务与节点服务。控制器服务负责创建卷、删除卷、快照、克隆、扩容等；节点服务负责挂载卷、卸载卷、格式化卷等操作。所有操作都通过 gRPC 调用进行，确保插件能够跨平台运行。\n\u3000\u3000快照与克隆是云原生存储最强大的能力之一。快照可以在几毫秒内创建卷的逻辑副本，适用于备份、快速恢复、测试环境克隆等场景。克隆卷则可以用于创建相同数据的测试环境，实现快速布署。\n\u3000\u3000多租户隔离是企业级存储必须解决的问题。CSI 需要与 Kubernetes RBAC、StorageClass、Quota 配合，实现不同租户之间的配额隔离、访问隔离以及存储策略隔离。对于金融级需求，还需要结合加密、审计与专有存储节点进一步增强安全性。\n\u3000\u3000最终，CSI 将存储能力抽象化，使得存储在云原生体系中像计算一样可以弹性调度，是现代集群架构不可或缺的一部分。 CreatedAt:2025-11-26T19:11:04+08:00 Author:{Id:0 Name: Avatar:}} {Id:220 ViewCount:0 Title:Go Runtime 深度解析：调度器、内存管理与垃圾回收机制 Content:\u3000\u3000Go Runtime 是 Go 语言性能与并发能力的核心，其内部的调度模型、内存管理策略、垃圾回收机制共同构成了 Go 高性能服务的基础。理解 Runtime 的工作原理，不仅能帮助开发者写出更高效的代码，还能在面对高并发、内存泄漏、GC 停顿等问题时快速定位原因。\n\u3000\u3000Go 的调度器基于 GMP 模型，其中 G 代表 goroutine，M 代表 OS 线程，P 代表逻辑处理器。P 决定可并行执行的 G 的数量，M 负责实际运行 G。Work Stealing 算法让不同 P 之间可以互相窃取任务，从而实现更高的调度效率。\n \u3000 内存管理采用 tcmalloc 风格的小对象分配器，通过 span、page、cache 多级结构降低锁竞争。在多线程环境下，Go 会为不同 P 分配本地缓存，避免频繁加锁。\n\u3000\u3000垃圾回收机制从 Go1.5 后逐步优化到低延迟 GC，通过三色标记法、写屏障、并发标记等方式减少 stop-the-world 时间。但开发者仍需要减少逃逸、避免频繁申请小对象、使用 sync.Pool 等降低 GC 压力。\n \u3000 最终，深入理解 Go Runtime 能显著提升程序性能与稳定性，使开发者能够从底层视角优化系统。 CreatedAt:2025-11-26T18:24:15+08:00 Author:{Id:0 Name: Avatar:}}]"
time="2025-12-11 23:40:56.571" level=INFO source=/Users/yzletter/go_project/go-postery/infra/mysql/mysql.go:101 msg="Ping MySQL 成功 ..."
time="2025-12-11 23:40:56.572" level=INFO source=/Users/yzletter/go_project/go-postery/infra/redis/redis.go:60 msg="ping globalRedisClient succeed"
time="2025-12-11 23:51:42.414" level=ERROR source=/Users/yzletter/go_project/go-postery/service/post.go:91 msg="Redis Increase View Count Failed" error="ERR user_script:2: Script attempted to access nonexistent global variable 'ARGS' script: 337ee585c6e9d48533718725a51427456a779b14, on @user_script:2."
time="2025-12-11 23:52:09.872" level=ERROR source=/Users/yzletter/go_project/go-postery/service/post.go:91 msg="Redis Increase View Count Failed" error="ERR user_script:2: Script attempted to access nonexistent global variable 'ARGS' script: 337ee585c6e9d48533718725a51427456a779b14, on @user_script:2."
time="2025-12-11 23:53:33.527" level=INFO source=/Users/yzletter/go_project/go-postery/infra/mysql/mysql.go:101 msg="Ping MySQL 成功 ..."
time="2025-12-11 23:53:33.527" level=INFO source=/Users/yzletter/go_project/go-postery/infra/redis/redis.go:60 msg="ping globalRedisClient succeed"
time="2025-12-11 23:54:13.007" level=INFO source=/Users/yzletter/go_project/go-postery/infra/smooth/smooth.go:21 msg="signal interrupt has come, start exiting ..."
time="2025-12-11 23:54:13.007" level=INFO source=/Users/yzletter/go_project/go-postery/infra/mysql/mysql.go:115 msg="关闭 MySQL 成功 ..."
time="2025-12-11 23:54:13.008" level=INFO source=/Users/yzletter/go_project/go-postery/infra/redis/redis.go:72 msg="close globalRedisClient succeed"
time="2025-12-11 23:54:13.008" level=INFO source=/Users/yzletter/go_project/go-postery/infra/smooth/smooth.go:27 msg="all task has finished"
time="2025-12-11 23:54:20.044" level=ERROR source=/Users/yzletter/go_project/go-postery/service/post.go:92 msg="Redis Increase View Count Failed" error="ERR user_script:2: Script attempted to access nonexistent global variable 'ARGS' script: 337ee585c6e9d48533718725a51427456a779b14, on @user_script:2."
